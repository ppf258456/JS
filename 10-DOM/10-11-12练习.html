<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div>
        <form action="#">
            <div>
                选择爱好：
                    <input type="checkbox" id="check-all">全选
            </div>
            <div>
                <input type="checkbox" name="hobby" value="乒乓球">乒乓球
                <input type="checkbox" name="hobby" value="篮球">篮球
                <input type="checkbox" name="hobby" value="羽毛球">羽毛球
                <input type="checkbox" name="hobby" value="足球">足球
            </div>
            <div>
                <button type="button" id="all">全选</button>
                <button type="button" id="no">取消</button>
                <button type="button" id="reverse">反选</button>
                <button type="button" id="send">提交</button>
            </div>
        </form>
    </div>
    <script>
        /* 
            全选
            取消
            反选
            提交
            小的checkbox 和 大checkbox 同步
        */

        /* 
            全选
                点击按钮，使4个多选变为全选状态
        */
        //头部全选
        const allcheck = document.getElementById("check-all")
       //   获取四个多选框
        const hobbies = document.getElementsByName("hobby")
        //  获取全选按钮
        const allBtn = document.getElementById("all")
        allBtn.onclick = function(){
            //alert(123)
            for(let i = 0; i <hobbies.length;i++){
                hobbies[i].checked= true
            }
            allcheck.checked= true
        }
        //获取取消按钮
        const  noBtn = document.getElementById("no")
        noBtn.onclick = function(){
            for(let i = 0; i <hobbies.length;i++){
                hobbies[i].checked= false
            }
            allcheck.checked= false
        } 
        //获取反选按钮
        const reverseBtn = document.getElementById("reverse")
        reverseBtn.onclick = function(){
            for(let i = 0; i <hobbies.length;i++){
                hobbies[i].checked= !hobbies[i].checked
            }
              const checkBox =  document.querySelectorAll("[name=hobby]:checked")  
               if(hobbies.length===checkBox.length){
                allcheck.checked=true
               }else{
                allcheck.checked=false
               }
        }
        //提交
        const sendBtn = document.getElementById("send")
        sendBtn.onclick = function(){
            for(let i = 0;i < hobbies.length;i++){
               
               if(hobbies[i].checked){
                alert(hobbies[i].value)
               }
                
            }
        }
       
        //console.log(allcheck);
        allcheck.onchange=function(){
            //在事件的响应函数中，响应函数绑定给谁，this就是谁(箭头函数除外)
            console.log(this);
            for(let i = 0; i <hobbies.length;i++){
                hobbies[i].checked= this.checked
            }
        }
        //使全选的checkbox 和四个checkbox进行同步
        for(let i = 0; i < hobbies.length;i++){
            hobbies[i].onchange=function(){
                //判断hobbies是否全选 
                //获取所有选中的checkbox
             const checkBox =  document.querySelectorAll("[name=hobby]:checked")  
               if(hobbies.length===checkBox.length){
                allcheck.checked=true
               }else{
                allcheck.checked=false
               }
            }
        }
    </script>
</body>
</html>