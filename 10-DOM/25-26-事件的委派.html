<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>事件的委派</title>
</head>
<body>
    <button id="btn" >哎呦~</button>
    <ul id="list">
        <li><a href="javascript:;">一</a></li>
        <li><a href="javascript:;">二</a></li>
        <li><a href="javascript:;">三</a></li>
        <li><a href="javascript:;">四</a></li>

    </ul>
    <script>
        /* 
              只绑定一次事件就可以让所有的超链接，包括当前的和未来新建的超链接都具有这些事件
              可以给事件统一绑定给document

              可以将事件统一绑定给document,这样点击超链接时由于事件的冒泡，
                会导致document上的点击事件被触发，这样只绑定一次，所有的超链接都会具有这些事件
        
                委派就是将本该给多个元素的事件，统一绑定给document,这样可以降低代码的复杂度，方便维护
        */

        
        const list =document.getElementById("list")
        const btn = document.getElementById("btn")
       /*  for(let i= 0 ;i <links.length;i++){
            links[i].addEventListener("click",event=>{
                alert(event.target.textContent)
                
            })
        } */
        //获取list中的所有链接
        const links =list.getElementsByTagName("a")

        document.addEventListener("click",(event)=>{
            //在执行代码之前，先判断一下事件由谁触发
            //检查event.tatget 是否在links中存在      
            //console.log(Array.from(links));
            if([...links].includes(event.target)){
                alert(event.target.textContent)
            }
            
        })
        
        //点击按钮后，在ul中添加一个新的li
        btn.addEventListener("click",() => { 
          
            list.insertAdjacentHTML("beforeend","<li><a href='javascript:;'>新链接</a></li>")
        })

    </script>
</body>
</html>